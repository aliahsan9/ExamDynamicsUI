<div class="container py-4">
  <h2 class="mb-4">Manage Quizzes</h2>

  <!-- Quiz Form -->
  <form [formGroup]="quizForm" (ngSubmit)="onSubmit()" class="card p-4 shadow-sm mb-4">
    <div class="mb-3">
      <label class="form-label">Quiz Title</label>
      <input type="text" formControlName="title" class="form-control" placeholder="Enter quiz title">
    </div>

    <div class="mb-3">
      <label class="form-label">Description</label>
      <textarea formControlName="description" class="form-control" rows="3" placeholder="Enter quiz description"></textarea>
    </div>

    <div class="mb-3">
      <label class="form-label">Subject</label>
      <select formControlName="subject" class="form-select">
        <option *ngFor="let subject of subjects" [value]="subject">{{ subject }}</option>
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Exam</label>
      <select formControlName="exam" class="form-select">
        <option *ngFor="let exam of exams" [value]="exam">{{ exam }}</option>
      </select>
    </div>

    <button type="submit" class="btn btn-primary me-2">
      {{ isEditing ? 'Update Quiz' : 'Create Quiz' }}
    </button>
    <button type="button" (click)="resetForm()" class="btn btn-secondary">Reset</button>
  </form>

  <!-- Quiz List -->
  <div class="card shadow-sm">
    <div class="card-header bg-dark text-white">
      <h5 class="mb-0">All Quizzes</h5>
    </div>
    <div class="card-body">
      <table class="table table-bordered table-hover">
        <thead class="table-light">
          <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Description</th>
            <th>Total Questions</th>
            <th>Time Limit</th>
            <th>Created At</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let quiz of quizzes">
            <td>{{ quiz.id }}</td>
            <td>{{ quiz.title }}</td>
            <td>{{ quiz.description }}</td>
            <td>{{ quiz.totalQuestions }}</td>
            <td>{{ quiz.timeLimit }} min</td>
            <td>{{ quiz.createdAt | date:'medium' }}</td>
            <td>
              <button class="btn btn-sm btn-warning me-2" (click)="onEdit(quiz)">Edit</button>
              <button class="btn btn-sm btn-danger" (click)="onDelete(quiz.id)">Delete</button>
            </td>
          </tr>
          <tr *ngIf="quizzes.length === 0">
            <td colspan="7" class="text-center text-muted">No quizzes available</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
